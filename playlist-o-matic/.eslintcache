[{"/Users/patrick/Desktop/git/css20-browser/playlist-o-matic/src/index.tsx":"1","/Users/patrick/Desktop/git/css20-browser/playlist-o-matic/src/reportWebVitals.ts":"2","/Users/patrick/Desktop/git/css20-browser/playlist-o-matic/src/App.tsx":"3","/Users/patrick/Desktop/git/css20-browser/playlist-o-matic/src/decisionTree.js":"4","/Users/patrick/Desktop/git/css20-browser/playlist-o-matic/src/record.ts":"5","/Users/patrick/Desktop/git/css20-browser/playlist-o-matic/src/audioProcessing.ts":"6"},{"size":500,"mtime":1609357288203,"results":"7","hashOfConfig":"8"},{"size":425,"mtime":1609357288204,"results":"9","hashOfConfig":"8"},{"size":1720,"mtime":1609411057514,"results":"10","hashOfConfig":"8"},{"size":1170,"mtime":1609410534211,"results":"11","hashOfConfig":"8"},{"size":2050,"mtime":1609410505877,"results":"12","hashOfConfig":"8"},{"size":1059,"mtime":1609582611898,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"13venta",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"24","usedDeprecatedRules":"25"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":null},"/Users/patrick/Desktop/git/css20-browser/playlist-o-matic/src/index.tsx",[],["30","31"],"/Users/patrick/Desktop/git/css20-browser/playlist-o-matic/src/reportWebVitals.ts",[],"/Users/patrick/Desktop/git/css20-browser/playlist-o-matic/src/App.tsx",["32","33","34","35","36","37"],"import React, {useState} from \"react\";\nimport {recordAudioDataForClassification} from \"./record\";\nimport decisionTree from \"./decisionTree\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { mean, variance } from \"mathjs\";\nimport {getFrequencyBounds} from \"./audioProcessing\";\nimport playlists from \"./playlists.json\";\nimport {Simulate} from \"react-dom/test-utils\";\n\nfunction App() {\n  const [detecting, setDetecting] = useState(false);\n  const [classification, setClassification] = useState({ genre: \"\", confidence: 0 });\n\n  function onPress() {\n    setClassification({ genre: \"\", confidence: 0 });\n    setDetecting(true);\n    recordAudioDataForClassification()\n    .then(result => decisionTree(result) as Record<string, number>)\n    .then(result => {\n      let bestResult = { genre: \"\", confidence: 0 };\n      for (let key of Object.keys(result)) {\n        console.log(result[key]);\n        if (result[key] > bestResult.confidence) {\n          bestResult = { genre: key, confidence: result[key] };\n        }\n      }\n\n      setClassification(bestResult);\n      setDetecting(false);\n    })\n      .catch(err => {\n        setDetecting(false);\n        console.error(err);\n      });\n  }\n\n  const playlist = playlists.playlists.find(p => p.genre === classification.genre);\n\n  return (\n    <div className=\"App\">\n      <p>Your Playlist Recommendation</p>\n      <button className=\"detectButton\" onClick={onPress}>Show Playlist</button>\n\n      { detecting && <p>Listening...</p> }\n\n      { classification && classification.genre && playlist &&\n      <iframe src={playlist.link} width={300} height={600} frameBorder={0}\n  allowTransparency={true} allow=\"encrypted-media\"/>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","/Users/patrick/Desktop/git/css20-browser/playlist-o-matic/src/decisionTree.js",["38"],"\"use strict\";\n\n// Big nope from me for TypeScript when parsing random JSON.\n// From http://www.utilities-online.info/xmltojson/#.X-zeWy8rxQI.\nimport tree from \"./model.json\";\n\nconst topNode = tree.PMML.TreeModel.Node;\n\nconst operators = {\n  lessOrEqual: (a, b) => a <= b,\n  greaterThan: (a, b) => a > b\n};\n\nfunction getDecision(audioData) {\n  return getDecisionRecursive(audioData, topNode);\n}\n\nfunction getDecisionRecursive(audioData, currentNode) {\n  if (!currentNode.Node) {\n    if (!currentNode.ScoreDistribution) {\n      throw new Error(\"node has no child or distribution\");\n    }\n\n    return Object.assign({}, ...currentNode.ScoreDistribution.map(entry => ({\n      [entry[\"-value\"]]: Number(entry[\"-recordCount\"])\n    })));\n  }\n\n  for (let child of currentNode.Node) {\n    const predicate = child.SimplePredicate;\n    // Else select next child node.\n    const operatorFn = operators[predicate[\"-operator\"]];\n\n    const fieldValue = audioData[predicate[\"-field\"]]\n    if (operatorFn(fieldValue, Number(predicate[\"-value\"]))) {\n      return getDecisionRecursive(audioData, child);\n    }\n  }\n\n  throw new Error(\"no predicate matched\");\n}\n\nexport default getDecision;\n",["39","40"],"/Users/patrick/Desktop/git/css20-browser/playlist-o-matic/src/record.ts",[],"/Users/patrick/Desktop/git/css20-browser/playlist-o-matic/src/audioProcessing.ts",["41","42"],{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","replacedBy":"46"},{"ruleId":"47","severity":1,"message":"48","line":4,"column":8,"nodeType":"49","messageId":"50","endLine":4,"endColumn":12},{"ruleId":"47","severity":1,"message":"51","line":6,"column":10,"nodeType":"49","messageId":"50","endLine":6,"endColumn":14},{"ruleId":"47","severity":1,"message":"52","line":6,"column":16,"nodeType":"49","messageId":"50","endLine":6,"endColumn":24},{"ruleId":"47","severity":1,"message":"53","line":7,"column":9,"nodeType":"49","messageId":"50","endLine":7,"endColumn":27},{"ruleId":"47","severity":1,"message":"54","line":9,"column":9,"nodeType":"49","messageId":"50","endLine":9,"endColumn":17},{"ruleId":"55","severity":1,"message":"56","line":48,"column":7,"nodeType":"57","endLine":49,"endColumn":53},{"ruleId":"58","severity":1,"message":"59","line":1,"column":1,"nodeType":"60","messageId":"61","endLine":1,"endColumn":14,"fix":"62"},{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","replacedBy":"46"},{"ruleId":"58","severity":1,"message":"59","line":1,"column":1,"nodeType":"60","messageId":"61","endLine":1,"endColumn":14,"fix":"63"},{"ruleId":"64","severity":1,"message":"65","line":19,"column":54,"nodeType":"66","messageId":"67","endLine":19,"endColumn":88},"no-native-reassign",["68"],"no-negated-in-lhs",["69"],"@typescript-eslint/no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'mean' is defined but never used.","'variance' is defined but never used.","'getFrequencyBounds' is defined but never used.","'Simulate' is defined but never used.","jsx-a11y/iframe-has-title","<iframe> elements must have a unique title property.","JSXOpeningElement","strict","'use strict' is unnecessary inside of modules.","ExpressionStatement","module",{"range":"70","text":"71"},{"range":"72","text":"71"},"no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'currentBinLowerFrequency'.","ArrowFunctionExpression","unsafeRefs","no-global-assign","no-unsafe-negation",[0,13],"",[0,13]]